---
import "../styles/global.css";
import { Image, getImage } from "astro:assets";

import { ClientRouter } from 'astro:transitions';
import type { SEO } from '@data/SEO';
import Seo from '@components/Seo.astro';
import Swiper from '@components/swiper.astro';

interface Props {
  title?: string;
  seo?: SEO;
  pageTitle?: string;
}

const { title = "Black Orchestra: World Front", seo, pageTitle = '' }: Props = Astro.props;

import BO_Banner from '@assets/black_orchestra_logo.png'
import BO_BG from '@assets/Background.png'

const BO_BG_OPTIMIZED = await getImage({ src: BO_BG, format:"png", height: 1080});

import DiscordIcon from '@assets/icons/Discord.svg'
import ModDBIcon from '@assets/icons/ModDB.svg'
import SteamIcon from '@assets/icons/Steam.svg'
import YouTubeIcon from '@assets/icons/Youtube.svg'
---

<!DOCTYPE html>

<html class="htmlClass">
<head>
    <meta charset="UTF-8">
	<Seo seo={seo} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="icon" href="/public/BO_Square.png">
    <title>{title}</title>
    <ClientRouter fallback="swap"/>
</head>


<body style={`background-image:url(${BO_BG_OPTIMIZED.src});`}onload="">
    <div class="main">
        <div class="w-screen h-screen flex">
            <Image src={BO_Banner} width={1700} format="png" alt="BO Banner" class="m-auto">
        </div>

        <div class="MediaWrapper">
            <div class="MediaItem">
                <a href="/404">
                    <SteamIcon class="icon" /> </a>
                <span class="description">Visit Steam</span>
            </div>
            <div class="MediaItem">
                <a href="https://www.moddb.com/mods/black-orchestra37-54">
                    <ModDBIcon class="icon" /> </a>
                <span class="description">Visit ModDB</span>
            </div>
            <div class="MediaItem">
                <a href="https://www.youtube.com/@BlackOrchestraWorldfront37-54">
                    <YouTubeIcon class="icon" /> </a>
                <span class="description">Visit Youtube</span>
            </div>
            <div class="MediaItem">
                <a href="https://discord.gg/jXe3pZV7Tw">
                    <DiscordIcon class="icon" /> </a>
                <span class="description">Join Discord</span>
            </div>
        </div>

        <h1 class="Title"> {pageTitle} </h1>

        <div class="WidgetWrapper">
            <a class="Widget" href="/"> Home </a>
            <a class="Widget" href="/latest"> Latest </a>
            <a class="Widget" href="/changelog"> Changelog </a>
            <a class="Widget" href="https://wiki.blackorchestra.net"> Wiki </a>
            <a class="Widget" href="/contact"> Contact </a>
            <!-- <a class="Widget" href="/resources.html"> Resources </a> -->
        </div>

        <div class="container">
            <slot />
        </div>

        <div class="copyright">
            <p> Â© MMXXV Black Orchestra Team - CHooverShrimp
        </div>
    </div>
    </div>
    <Swiper />
</body>

</html>

<style is:global>


.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    opacity: 1;
    z-index: 9999;
    transition: opacity 1s ease, display 0s 1s;
}

.fade-out .overlay {
    opacity: 0;
}

html, body {

	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;

	font-size: 12px;
	color: #000000;
	font-family: Verdana, sans-serif;
}

body {
	background-color: #000000;
	background-attachment: fixed;
	background-size: cover;
    background-repeat: no-repeat;
    background-position: center; /* Center the background image */
}

.main {
    align-items: center;
    display: flex;
    flex-direction: column;
    width: 100%;
    justify-content: center;
    --padding-horizontal: 1.5rem;
    --padding-vertical: 3rem;
    --spacing: 3rem;
}

.MediaWrapper {
    top:1000px;
    box-sizing: border-box;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
}

.MediaWrapper .icon {
    width: 70px;
    transition: transform 0.3s ease;
}

.MediaWrapper .icon:hover {
    transform: scale(1.2);
}

.MediaWrapper a {
    position: relative;
    display: inline-block;
}

.Title {

    color: #fff;
    font-size: 5rem;
}

.MediaWrapper .description {
    position: relative;
    background-color: #202020;
    color: #fff;
    margin: 1rem;
    padding: 10px;
    width: 6rem;
    border-radius: 10px;
    text-align: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.MediaWrapper a:hover + .description {
    display: block;
    opacity: 1;
}

.MediaItem {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align:center;
}

.WidgetWrapper {
    display:flex;
    flex-direction: row;
    width: 80rem;
    max-width: 80%;
    height:4rem;
    margin-bottom:1rem;
}

.Widget {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #202020;
    color: #fff;
    font-size: 1.5rem;
    padding: 10px;
    width: 5rem;
    border-radius: 10px;
    margin: 5px;
    text-align: center;
    text-decoration: none;
    transition: background-color 0.1s ease;
}

.Widget:hover {
    background-color: #878787;
}

.containerStyle1 {
    --flex-alignment: flex-start;
    display: flex;

    align-items: center;
    padding-left:20px;
    padding-right:20px;
    flex-direction: column; /* Set flex-direction to column */
    backdrop-filter: blur(0.275rem);
    border-color: rgba(255,255,255,0.271);
    border-style: solid;
    border-width: 1px;
    border-radius: 0.75rem;
    margin-bottom: 20px;
}

.container {
    width: 100rem;
    max-width: 90%;
}

.containerStyle1 img {
    align-items: center;
    display: flex;
    flex-direction: column;
    --padding-horizontal: 1.5rem;
    --padding-vertical: 3rem;
}

.containerStyle1 a {
    max-width:100%
}

.containerStyle1 iframe {
    background: #000;
    border: none;
    height: 40rem;
    width: 30rem;
}

.boxWrapper {
    margin-top: 40px;
    width: 100%;
    display:flex;
    justify-content: normal;
    flex-direction: column;
	align-items: center;
    color: aliceblue;
    font-size: 1.5rem;
}

.boxWrapper p {
    margin-bottom: 40px;
    align-self: flex-start;
}

.boxWrapper .button {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #202020;
    color: #fff;
    font-size: 1.5rem;
    padding: 10px;
    width: 50%;
    border-radius: 10px;
    margin: 5px;
    text-align: center;
    text-decoration: none;
    transition: background-color 0.1s ease;
}

.boxWrapper .button:hover {
    background-color: #878787;
}

.boxWrapper h1,
.boxWrapper h {
    margin-bottom: 40px;
}

.boxWrapper a {
    /*margin: 2rem;*/
    display:flex;
    justify-content: center;
    flex-direction: column;
	align-items: center;
}

.boxWrapper .slideWrapper {
    width: 90%;
    height:fit-content;
    border-radius: 10px;
    overflow: hidden;
}

.boxWrapper img {
    margin-bottom: 40px;
}

.swiper-slide img { /* Necessary to not inherit the margin of the parents*/
    margin-bottom: 0px;
}

.rowWrapper { /* Copy of boxWrapper with minor changes*/
    padding-top:10px;
    padding-bottom:10px;
    width: 100%;
    display:flex;
    justify-content: space-between;
    flex-direction: row;
	align-items: center;
    color: aliceblue;
    font-size: 1.5rem;
}


.divider {
    border: 1px solid rgba(255,255,255,0.271); /* Set border properties */
    width: 100%;
    margin: 0px; /* Adjust margin as needed */
}

/* Specific settings to help with mobile devices*/

img {
    max-width: 100%;
    height: auto;
}

@media screen and (max-width: 800px) {
    /* Styles for screens up to 800px wide */
    .container {
        box-sizing: border-box;
        width: 100%;
        padding: 10px; /* Adjust padding for smaller screens */
    }

    .boxWrapper {
        box-sizing: border-box;
        padding-top: 20px;
        padding-bottom: 20px;
    }

    .rowWrapper { /* Copy of boxWrapper with minor changes*/
        box-sizing: border-box;
        flex-direction: column;
        justify-content:center;
        align-items: center;
    }

    .WidgetWrapper {

        box-sizing: border-box;
        flex-direction: column;
        height: auto;
        align-items: center;
    }

    .Widget {
        box-sizing: border-box;
        width: 100%;
        margin-bottom: 5px;
    }
}

.copyright {
    color:#fff;
    font-family: 'Times New Roman', Times, serif;
    opacity: 0.5;
    margin: 2rem;
}
</style>